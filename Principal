package sample;



import com.sun.scenario.effect.impl.sw.sse.SSEBlend_SRC_OUTPeer;

import  java.util.LinkedList;
import java.util.Iterator;
import java.util.Scanner;

public  class  Principal {

    public static LinkedList<Usuario> usuarios = new LinkedList<>();
    public static Scanner input = new Scanner(System.in);
    public static Usuario usuarioLogueado = new Usuario(null, null, null, null, null);



    public static void main(java.lang.String[] args) {
        String option = "";


        label:
        while (true) {

            System.out.println("-----------------------------");
            System.out.println("Bienvenido ");
            System.out.println("Escoja una opcion:");
            System.out.println("1. Ingresar usuario");
            System.out.println("2. Registrar usuario");
            System.out.println("0. Salir");
            System.out.println("-----------------------------");
            System.out.println();
            option = input.next();
            switch (option) {
                case "1":
                    ingresarUsuario();


                    break;
                case "2":
                    registrarUsuario();


                    break;
                case "0":
                    break label;
            }
        }


    }

    private static void registrarUsuario() {
        System.out.print("Documento : ");

        int Documento = input.nextInt();
        String documentoString = String.valueOf(Documento);
        input.nextLine();

        while (Documento <= 0) {
            System.out.print("Documento invalido ,ingreselo denuevo");
            System.out.print("Documento : ");
            Documento = input.nextInt();
        }
        System.out.print("Nombre : ");


        String Nombre = input.nextLine();
        while (Nombre.equals("")) {
            System.out.println("Nombre invalido, ingreselo denuevo");
            System.out.print("Nombre : ");
            Nombre = input.nextLine();
        }
        System.out.print("Apellido : ");
        String Apellido = input.nextLine();
        while (Apellido.equals("")) {
            System.out.println("Apellido invalido, ingreselo denuevo");
            System.out.print("Apellido: ");
            Apellido = input.nextLine();
        }
        System.out.print("Correo Electronico : ");
        String Correo = input.nextLine();
        while (Correo.equals("")) {
            System.out.println("Correo invalido, ingreselo denuevo");
            System.out.print("Correo: ");
            Correo = input.nextLine();
        }
        System.out.print("Contraseña : ");
        String Password = input.nextLine();
        while (Password.equals("")) {
            System.out.println("Contraseña invalido, ingreselo denuevo");
            System.out.print("Contraseña: ");
            Password = input.nextLine();
        }

        Usuario nuevoUsuario = new Usuario(documentoString, Nombre, Apellido, Correo, Password);
        usuarios.add(nuevoUsuario);


        System.out.println("USUARIO REGISTRADO EXITOSAMENTE");
        ingresarUsuario();


    }

    private static void ingresarUsuario() {

        System.out.println("-----------------------------");
        System.out.println("Ingresar Documento/Correo");
        System.out.println("-----------------------------");
        System.out.println();
        String DocumentoIngresado = input.nextLine();
        System.out.println("-----------------------------");
        System.out.println("Ingresa la contraseña");
        System.out.println("-----------------------------");
        String PasswordIngresado = input.nextLine();

        for (Usuario usuario : usuarios) {
            if (usuario.documento.equals(DocumentoIngresado) || usuario.correo.equals(DocumentoIngresado)) {
                for (Usuario usuario2 : usuarios) {
                    if (usuario2.contraseña.equals(PasswordIngresado)) {

                        System.out.println("-----------------------------");
                        System.out.println("LOGUEADO CORRECTAMENTE");
                        System.out.println("logueando...................");
                        usuarioLogueado = usuario;
                        menuPrincipal();
                        return;

                    }

                }


            }


        }
        System.out.println("Datos invalidos, ingreselos denuevo");
        ingresarUsuario();


    }

    private static void menuPrincipal() {
        String option = "";

        System.out.println("Bienvenido " + usuarioLogueado.nombre + " " + usuarioLogueado.apellido);


        while (true) {

            System.out.println("-----------------------------");
            System.out.println("Escoja una opcion:");
            System.out.println("1. Administración");
            System.out.println("2. Búsqueda");
            System.out.println("3. Diagnóstico de inconsistencias");
            System.out.println("4. Guardar");
            System.out.println("0. Salir y cancelar");
            System.out.println("-----------------------------");
            System.out.println();
            option = input.next();
            switch (option) {
                case "1":
                    administracion();


                    break;
                case "2":
                    busqueda();


                    break;
                case "3":
                    diagnostico();


                    break;
                case "4":
                    guardar();


                    break;
                case "0":
                    salirCancelar();
                    break;

            }
        }





    }


    private static void administracion() {
    }

    private static void busqueda() {
    }

    private static void diagnostico() {
    }

    private static void guardar() {
    }

    private static void salirCancelar() {
        while(true){
        System.out.println("Si sale ahora se perderan los cambios sin guardar");
        System.out.println("Ingrese [N] si desea regresar al  menu principal");
        System.out.println("Ingrese [Y] si desea cerrar el programa");
        String cerrado = input.next();
        boolean variable = true;

            if (cerrado.equals("N")) {
                System.out.println("Regresando al menu principal");

                return;
            }
            else if (cerrado.equals("Y")) {
                System.out.println("CERRANDO PROGRAMA");
                System.exit(0);

            } else {
                System.out.println("Opcion invalida");
                System.out.println("-----------------------------");



            }
        }
    }
}


